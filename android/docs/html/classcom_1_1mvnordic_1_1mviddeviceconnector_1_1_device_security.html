<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MVIDDeviceConnector for Android: com.mvnordic.mviddeviceconnector.DeviceSecurity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MVIDDeviceConnector for Android
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>com</b></li><li class="navelem"><b>mvnordic</b></li><li class="navelem"><b>mviddeviceconnector</b></li><li class="navelem"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.mvnordic.mviddeviceconnector.DeviceSecurity Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacecom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener.html">DeviceSecurityListener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_service_result.html">ServiceResult</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7dc8c36ae5b04e0dda8d6d97d8121a3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a7dc8c36ae5b04e0dda8d6d97d8121a3e">DeviceSecurity</a> (Activity parent)</td></tr>
<tr class="separator:a7dc8c36ae5b04e0dda8d6d97d8121a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adece3775fe29976706376539404588c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#adece3775fe29976706376539404588c1">addDeviceSecurityListener</a> (<a class="el" href="interfacecom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener.html">DeviceSecurityListener</a> listener)</td></tr>
<tr class="separator:adece3775fe29976706376539404588c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac007af49db9edf643534c5e855f3533d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#ac007af49db9edf643534c5e855f3533d">removeDeviceSecurityListener</a> (<a class="el" href="interfacecom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener.html">DeviceSecurityListener</a> listener)</td></tr>
<tr class="separator:ac007af49db9edf643534c5e855f3533d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236c154a3b49ac35f6dfbe2eb9bc888d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a236c154a3b49ac35f6dfbe2eb9bc888d">popDeviceSecurityListener</a> ()</td></tr>
<tr class="separator:a236c154a3b49ac35f6dfbe2eb9bc888d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d395f8bf3c1e34477ed3d90112c1df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#af5d395f8bf3c1e34477ed3d90112c1df">setHorizontalDisplacement</a> (int pixels)</td></tr>
<tr class="separator:af5d395f8bf3c1e34477ed3d90112c1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a964ae3abcbf14b9b1c58c0b7d09e534a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a964ae3abcbf14b9b1c58c0b7d09e534a">excludeLoginGroup</a> (String login_group)</td></tr>
<tr class="separator:a964ae3abcbf14b9b1c58c0b7d09e534a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b273c0b32151f9100cd8465b014bcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a55b273c0b32151f9100cd8465b014bcf">includeAllLoginGroups</a> ()</td></tr>
<tr class="separator:a55b273c0b32151f9100cd8465b014bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14899c5f64246399a62e5b172a82bba2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a14899c5f64246399a62e5b172a82bba2">doLogin</a> (String access_identifier)</td></tr>
<tr class="separator:a14899c5f64246399a62e5b172a82bba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09506b81338a7dea312229fd284c1dc4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a09506b81338a7dea312229fd284c1dc4">doLogin</a> (String access_identifier, int fragment_container_id)</td></tr>
<tr class="separator:a09506b81338a7dea312229fd284c1dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212841dae72d074b61fe52e61b5772f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a212841dae72d074b61fe52e61b5772f9">releaseDeviceRegistration</a> ()</td></tr>
<tr class="separator:a212841dae72d074b61fe52e61b5772f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193c488ccb006e29d5819e67cfd95109"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a193c488ccb006e29d5819e67cfd95109">getMVSessionID</a> (String access_identifier)</td></tr>
<tr class="separator:a193c488ccb006e29d5819e67cfd95109"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> is the client side interface towards the corresponding MVID web service <a href="https://signon.mv-nordic.com/device-security/DeviceSecurity">DeviceSecurity</a>. It is designed for easy integration into existing Android apps.</p>
<p>Once the interface is properly integrated into an app it will provide:</p>
<ul>
<li>MVID User authentication</li>
<li>Product access services</li>
<li>MVID Session ID for further requesting into MVID's web services: <a href="https://mvid-services.mv-nordic.com/v2">MVID Services</a></li>
</ul>
<h1><a class="anchor" id="usage"></a>
Usage</h1>
<p>The primary method of <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> is the <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a14899c5f64246399a62e5b172a82bba2">doLogin()</a> method. In a normal integration this method should be all that is needed.</p>
<p>The basic integration has 3 steps:</p>
<ul>
<li>Instantiate <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> as a member of the class responsible for the login process.</li>
<li>Add a notification listener to handle the final asynchronious <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener_1_1_m_v_i_d_response.html">MVIDResponse</a> passed via <a class="el" href="">onMVIDResponseReady()</a>;</li>
<li>Call <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a14899c5f64246399a62e5b172a82bba2">doLogin()</a></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>After a successful login the mv_session_id is accessible via <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a193c488ccb006e29d5819e67cfd95109">DeviceSecurity.getMVSessionID()</a>.</dd></dl>
<h2><a class="anchor" id="MVIDResponse"></a>
MVIDResponse notification object</h2>
<p>The <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener_1_1_m_v_i_d_response.html">MVIDResponse</a> notification is posted via the <a class="el" href="">onMVIDResponseReady()</a>. Use <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#adece3775fe29976706376539404588c1">addDeviceSecurityListener()</a> to start listening. <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener_1_1_m_v_i_d_response.html">MVIDResponse</a> defines the following attributes:</p>
<table class="doxtable">
<tr>
<th>First Header </th><th>Second Header </th><th>Description  </th></tr>
<tr>
<td>int </td><td>service_result_flags </td><td>Bitwise combination of <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_service_result.html">ServiceResult</a> flags </td></tr>
<tr>
<td>boolean </td><td>has_access </td><td>true if the access_identifier is granted false if not </td></tr>
<tr>
<td>int </td><td>res_code </td><td>The server side result code </td></tr>
<tr>
<td>String </td><td>res_msg </td><td>The server side result message </td></tr>
<tr>
<td>String </td><td>access_identifier </td><td>The access identifier which was checked </td></tr>
<tr>
<td>Integer </td><td>request_id </td><td>The doLogin request ID of the check (returned from <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a14899c5f64246399a62e5b172a82bba2">doLogin()</a> </td></tr>
</table>
<h2><a class="anchor" id="example"></a>
Coding example</h2>
<p>The following is a very simple example of how an Activity with MVID Login responsibility could be coded.</p>
<p>MVIDLoginActivity.java: </p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">com.mvnordic.mviddeviceconnector.DeviceSecurity</a>;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>MVIDLoginActivity <span class="keyword">extends</span> Activity {</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Define a DeviceSecurity member</span></div>
<div class="line">    <span class="keyword">private</span> <a class="code" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a7dc8c36ae5b04e0dda8d6d97d8121a3e">DeviceSecurity</a> device_security;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Define a listener for the DeviceSecurity.doLogin() result.</span></div>
<div class="line">    <span class="keyword">private</span> DeviceSecurity.DeviceSecurityListener device_security_listener = <span class="keyword">new</span> DeviceSecurity.DeviceSecurityListener() {</div>
<div class="line"></div>
<div class="line">        @Override</div>
<div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> onMVIDResponseReady(MVIDResponse response) {</div>
<div class="line">            <span class="comment">// Print the interesting part of the result as a toast.</span></div>
<div class="line">            String toast = String.format(<span class="stringliteral">&quot;AI: %s\nREQUEST_ID: %s\nGOT ACCESS: %s&quot;</span>,</div>
<div class="line">                response.access_identifier,</div>
<div class="line">                response.request_id,</div>
<div class="line">                response.has_access ? <span class="stringliteral">&quot;YES&quot;</span> : <span class="stringliteral">&quot;NO&quot;</span> );</div>
<div class="line">            Toast.makeText(getApplicationContext(), toast, </div>
<div class="line">                Toast.LENGTH_SHORT).show();</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    @Override</div>
<div class="line">    <span class="keyword">protected</span> <span class="keywordtype">void</span> onCreate(Bundle savedInstanceState) {</div>
<div class="line">        super.onCreate(savedInstanceState);</div>
<div class="line">        setContentView(R.layout.activity_main);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Create an instance of DeviceSecurity</span></div>
<div class="line">        device_security = <span class="keyword">new</span> <a class="code" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html#a7dc8c36ae5b04e0dda8d6d97d8121a3e">DeviceSecurity</a>(<span class="keyword">this</span>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Do some setting up for the Login GUI</span></div>
<div class="line">        device_security.excludeLoginGroup(<span class="stringliteral">&quot;company&quot;</span>);</div>
<div class="line">        device_security.excludeLoginGroup(<span class="stringliteral">&quot;private&quot;</span>);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Add the response listener declared above</span></div>
<div class="line">        device_security.addDeviceSecurityListener(device_security_listener);</div>
<div class="line">    </div>
<div class="line">        <span class="comment">// In this example imagine a button on your Activity UI with the label &quot;Login&quot;</span></div>
<div class="line">        <span class="comment">// When pressed the login process should start.</span></div>
<div class="line">        Button login_button = (Button) this.findViewById(R.id.login_button);</div>
<div class="line">        login_button.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</div>
<div class="line">            <span class="keyword">public</span> <span class="keywordtype">void</span> onClick(View v) {</div>
<div class="line">                <span class="keywordtype">int</span> req_id = device_security.doLogin(spinner.getSelectedItem().toString());</div>
<div class="line">                L.d(<span class="stringliteral">&quot;The login request ID: %d&quot;</span> , req_id);</div>
<div class="line">            }</div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7dc8c36ae5b04e0dda8d6d97d8121a3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.mvnordic.mviddeviceconnector.DeviceSecurity.DeviceSecurity </td>
          <td>(</td>
          <td class="paramtype">Activity&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The default <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> constructor. <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> must have a parent Activity which connects it to a Android context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>The parent Activity for this <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adece3775fe29976706376539404588c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.addDeviceSecurityListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfacecom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener.html">DeviceSecurityListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a listener to a <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> instance. <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> will invoke the <a class="el" href="">onMVIDResponseReady()</a> method on all added listeners when a MVID Login response is ready, passing the <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener_1_1_m_v_i_d_response.html">MVIDResponse</a> object.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// Define a listener for the DeviceSecurity.doLogin() result.</span></div>
<div class="line"><span class="keyword">private</span> DeviceSecurity.DeviceSecurityListener device_security_listener = <span class="keyword">new</span> DeviceSecurity.DeviceSecurityListener() {</div>
<div class="line"></div>
<div class="line"> @Override</div>
<div class="line"> <span class="keyword">public</span> <span class="keywordtype">void</span> onMVIDResponseReady(MVIDResponse response) {</div>
<div class="line">     <span class="comment">// Print the interesting part of the result as a toast.</span></div>
<div class="line">     <span class="keywordflow">if</span> (response.has_access) {</div>
<div class="line">         <span class="comment">// Put code for granted access ...</span></div>
<div class="line">     }</div>
<div class="line">     <span class="keywordflow">else</span> {</div>
<div class="line">         <span class="comment">// Access denied ...</span></div>
<div class="line">     }</div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">protected</span> <span class="keywordtype">void</span> onCreate(Bundle savedInstanceState) {</div>
<div class="line"> super.onCreate(savedInstanceState);</div>
<div class="line"> device_security.addDeviceSecurityListener(device_security_listener);</div>
<div class="line"> <span class="comment">// ...</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener instance to be added </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a14899c5f64246399a62e5b172a82bba2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int com.mvnordic.mviddeviceconnector.DeviceSecurity.doLogin </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>access_identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the login process, communicating with MVID backend servers if online, else if any previous login has been performed and is still within the "borrow time" grace period, this will be used directly off the device. This means that a single login operation can be reused in offline mode some time.</p>
<dl class="section note"><dt>Note</dt><dd>To force device to re-login you must call releaseDeviceRegistraion first. This method will start the login process as a new Activity.</dd></dl>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// In this example the LoginViewController&#39;s views are displayed in a</span></div>
<div class="line"><span class="comment">// overlay subview of my LoginController called myLoginView</span></div>
<div class="line"><span class="keywordtype">int</span> req_id = device_security.doLogin(access_identifier);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">access_identifier</td><td>The access_identifier that needs to be checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The request ID of the login process This ID corresponds with the MVIDResponse which is notified via DeviceSecurityListener.onMVIDResponseReady(). So it is possible to distinguish between login results in a multi-threaded environment. </dd></dl>

</div>
</div>
<a class="anchor" id="a09506b81338a7dea312229fd284c1dc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int com.mvnordic.mviddeviceconnector.DeviceSecurity.doLogin </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>access_identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fragment_container_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the login process, communicating with MVID backend servers if online, else if any previous login has been performed and is still within the "borrow time" grace period, this will be used directly off the device. This means that a single login operation can be reused in offline mode some time.</p>
<dl class="section note"><dt>Note</dt><dd>To force device to re-login you must call releaseDeviceRegistraion first. To direct the login screen as a Fragment into a container View (like a Layout) in your Activity, use the fragment_container_id parameter.</dd></dl>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// In this example the LoginViewController&#39;s views are displayed in a</span></div>
<div class="line"><span class="comment">// overlay subview of my LoginController called myLoginView</span></div>
<div class="line"><span class="keywordtype">int</span> req_id = device_security.doLogin(access_identifier,R.id.login_fragment_contatiner);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">access_identifier</td><td>The access_identifier that needs to be checked. </td></tr>
    <tr><td class="paramname">fragment_container_id</td><td>A resource ID referencing the container View on the parent activity that should embed the Login Fragment. If an invalid resource is passed no UI will be presented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The request ID of the login process This ID corresponds with the MVIDResponse which is notified via DeviceSecurityListener.onMVIDResponseReady(). So it is possible to distinguish between login results in a multi-threaded environment. </dd></dl>

</div>
</div>
<a class="anchor" id="a964ae3abcbf14b9b1c58c0b7d09e534a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.excludeLoginGroup </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>login_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exclude a login group from the login UI.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// Exclude the school login group</span></div>
<div class="line">device_security.excludeLoginGroup(<span class="stringliteral">&quot;company&quot;</span>);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">login_group</td><td>The name of the login group. At the time of writing possible groups are: school, company and private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a193c488ccb006e29d5819e67cfd95109"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String com.mvnordic.mviddeviceconnector.DeviceSecurity.getMVSessionID </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>access_identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Extract the mv_session_id associated with the login to to a specific access identifier.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// Get my mv_session_id</span></div>
<div class="line">device_security.getMVSessionID(<span class="stringliteral">&quot;product.android.da.intowords.release&quot;</span>);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">access_identifier</td><td>Get the mv_session_id currently associated with given access_identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mv_session_id The mv_session_id is returned if present, otherwise if no login has been made, null is returned- </dd></dl>

</div>
</div>
<a class="anchor" id="a55b273c0b32151f9100cd8465b014bcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.includeAllLoginGroups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Re-include all login groups. Use this if you have already excluded some login groups and want to include them all again without re-instantiating <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> (which is discouraged)</p>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// Include all login groups</span></div>
<div class="line">device_security.includeAllLoginGroups();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a236c154a3b49ac35f6dfbe2eb9bc888d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.popDeviceSecurityListener </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the latest added listener from a <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> instance.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line">device_security.popDeviceSecurityListener();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a212841dae72d074b61fe52e61b5772f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.releaseDeviceRegistration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release the device-side knowledge about MVID within the app's sandbox forcing a new login from the user.</p>
<p>Calling this method will not affect other apps using MVIDDeviceConnector.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// Release device-side knowlegde of MVID</span></div>
<div class="line">device_security.releaseDeviceRegistration();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac007af49db9edf643534c5e855f3533d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.removeDeviceSecurityListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfacecom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security_1_1_device_security_listener.html">DeviceSecurityListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a listener from a <a class="el" href="classcom_1_1mvnordic_1_1mviddeviceconnector_1_1_device_security.html">DeviceSecurity</a> instance.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line">device_security.removeDeviceSecurityListener(device_security_listener);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>The listener instance to be removed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af5d395f8bf3c1e34477ed3d90112c1df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.mvnordic.mviddeviceconnector.DeviceSecurity.setHorizontalDisplacement </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixels</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the center point of the login UI n pixels to the left or right depending on the numeric sign.</p>
<p>Example usage: </p>
<div class="fragment"><div class="line"><span class="comment">// Horizontally displace the login 40 pixels to the left</span></div>
<div class="line">device_security.setLoginCenterDisplacement(-40);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixels</td><td>The amount of pixels to displace the center with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/com/mvnordic/mviddeviceconnector/DeviceSecurity.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 3 2014 13:22:19 for MVIDDeviceConnector for Android by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
